<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <title>XML Pull Parsing
</title><link rel="SHORTCUT ICON" href="http://www.xmlpull.org/favicon.ico">
</head>
<!--#include file="header.html" -->


<h1>XmlPull 2.0 Discussion Page</h1>

<ul>
 <li>Goal: StAX for J2ME</li>
 <li>No event object API</li>
 <li>Leave out some bloat</li>
 <li>Avoid dependencies from packages not available for CLDC</li>
 <li>Implemet some methods of the helper interfaces (Location)</li>
</ul>


<h2>Parser API proposal</h2>

<table border="1">
 <tr>
  <th>XmlPull 1</th>
  <th>StAX</th>
  <th>XmlPull 2</th>
  <th>Rationale</th>
 </tr>
 <tr>
  <td></td>
  <td>void close()</td>
  <td>void close()</td>
  <td>Should close underlying stream, StAX deviation from general Java behaviour
      is regarded as specification error.</td>
 </tr>
 <tr>
   <td></td>
   <td>int getAttributeCount()</td>
   <td>int getAttributeCount()</td>
 </tr>
 <tr>
   <td></td>
   <td>String getAttributeLocalName(int index)</td>
   <td>String getAttributeLocalName(int index)</td>
 <tr>
 <tr>
   <td></td>
   <td>QName getAttributeName(int index)</td>
   <td>-</td>
   <td>QName class is not available</td>
 <tr>
 <tr>
   <td></td>
   <td>String getAttributePrefix(int index)</td>
   <td>String getAttributePrefix(int index)</td>
 <tr>
 <tr>
   <td></td>
   <td>String getAttributeType(int index)</td>
   <td>String getAttributeType(int index)</td>
 <tr>
 <tr>
   <td></td>
   <td>String getAttributeValue(int index)</td>
   <td>String getAttributeValue(int index)</td>
 </tr>
 <tr>
  <td></td>
  <td>String getAttributeValue(String namespaceURI, String localName)</td>
  <td>String getAttributeValue(String namespaceURI, String localName)</td>
 </tr>
 <tr>
   <td></td>
   <td>String getAttributeValue(String namespaceURI, String localName);</td>
   <td>String getAttributeValue(String namespaceURI, String localName);</td>
 </tr>
 <tr>
  <td></td>
  <td>String getCharacterEncoding()</td>
  <td>String getCharacterEncoding()</td>
  <td>TBD: What is the difference to getEncoding?!?</td>
 </tr>
 <tr>
  <td></td>
  <td>String getElementText()</td>
  <td>String getElementText()</td>
 </tr>
 <tr>
  <td></td>
  <td>String getEncoding()</td>
  <td>String getEncoding()</td>
 </tr>
 <tr>
  <td></td>
  <td>int getEventType()</td>
  <td>int getEventType()</td>
 </tr>
 <tr>
  <td></td>
  <td>String getLocalName()</td>
  <td>String getLocalName()</td>
 </tr>
 <tr>
  <td></td>
  <td>Location getLocation()</td>
  <td>-</td>
  <td>Avoid location class</td>
 </tr>
 <tr>
   <td></td>
   <td>NamespaceContext getNamespaceContext()</td>
   <td>-</td>
   <td>Avoid class NamespaceContext</td>
 </tr>
 <tr>
  <td></td>
  <td>int getNamespaceCount()</td>
  <td>int getNamespaceCount()</td>
 </tr>
 <tr>
  <td></td>
  <td>int getNamespaceURI()</td>
  <td>int getNamespaceURI()</td>
 </tr>
 <tr>
  <td></td>
  <td>String getNamespacePrefix(int i)</td>
  <td>String getNamespacePrefix(int i)</td>
 </tr>
 <tr>
  <td></td>
  <td>String getNamespaceURI(int i)</td>
  <td>String getNamespaceURI(int i)</td>
 </tr>
 <tr>
  <td></td>
  <td>String getNamespaceURI(String prefix)</td>
  <td>String getNamespaceURI(String prefix)</td>
 </tr>
 <tr>
  <td></td>
  <td>int getPrefix()</td>
  <td>int getPrefix()</td>
 </tr>
 <tr>
   <td></td>
   <td>Object getPIData()</td>
   <td>Object getPIData()</td>
 </tr>
 <tr>
   <td></td>
   <td>Object getPITarget()</td>
   <td>Object getPITarget()</td>
 </tr>
 <tr>
   <td></td>
   <td>Object getProperty(String name)</td>
   <td>Object getProperty(String name)</td>
 </tr>
 <tr>
  <td></td>
  <td>String getText()</td>
  <td>String getText()</td>
 </tr>
 <tr>
  <td></td>
  <td>char[] getTextCharacters()</td>
  <td>char[] getTextCharacters()</td>
 </tr>
 <tr>
  <td></td>
  <td>int getTextCharacters(int sourceStart, char[] target, int targetStart, int length) </td>
  <td>-</td>
  <td>Can easily be constructed with getTextCharacters(), getTextStart(), getTextLength()</td>
 </tr>
 <tr>
  <td></td>
  <td>int getTextLength()</td>
  <td>int getTextLength()</td>
 </tr>
 <tr>
  <td></td>
  <td>int getTextStart()</td>
  <td>int getTextStart()</td>
 </tr>
 <tr>
  <td></td>
  <td>String getVersion()</td>
  <td>String getVersion()</td>
 </tr>
 <tr>
  <td></td>
  <td>hasText()</td>
  <td>-</td>
 </tr>
 <tr>
  <td>-</td>
  <td>boolean is*()</td>
  <td>-</td>
  <td>Too expensive for J2ME (no real gain)</td>
 </tr>
 <tr>
  <td></td>
  <td>boolean isAttributeSpecified(int index);
  <td>-</td>
  <td>To be discussed</td>
 </tr>
 <tr>
  <td></td>
  <td>boolean isStandalone()</td>
  <td>boolean isStandalone()</td>
  <td>TBD: what is the difference to isStandalone?</td>
 </tr>
 <tr>
   <td>next()</td>
   <td>-</td>
   <td>-</td>
   <td>See <a href="#f1">1</a></td>
 </tr>
 <tr>
  <td>String nextTag()</td>
  <td>String nextTag()</td>
  <td>String nextTag()</td>
 </tr>
 <tr>
  <td>nextToken()</td>
  <td>next()</td>
  <td>next()</td>
  <td>See <a href="#f1">1</a></td>
 </tr>
 <tr>
   <td>void require(int type, String namespaceURI, String localName)</td>
   <td>void require(int type, String namespaceURI, String localName)</td>
   <td>void require(int type, String namespaceURI, String localName)</td>
 </tr>
  <tr>
  <td>-</td>
  <td>boolean standaloneSet()</td>
  <td>boolean standaloneSet()</td>
  <td>TBD: what is the difference to isStandalone?</td>
 </tr>

</table>
<ol>
 <li><a name="f1" />The XmlPull next() / nextToken distinction
      is only usefull for element-only and text-only content.
      In both cases there are better options: nextTag() and
      nextText().</li>
</ol>



<!--#include file="footer.html" -->
</body>
</html>